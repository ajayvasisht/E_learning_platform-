{"ast":null,"code":"import axios from 'axios';\nconst API_URL = 'http://localhost:3001/api';\nconst api = {\n  // Auth endpoints\n  registerStudent: data => axios.post(`${API_URL}/students/register`, data),\n  registerTeacher: data => axios.post(`${API_URL}/teachers/register`, data),\n  registerAdmin: data => axios.post(`${API_URL}/admin/register`, data),\n  // Now using dedicated admin endpoint\n  loginStudent: data => axios.post(`${API_URL}/students/login`, data),\n  loginTeacher: data => axios.post(`${API_URL}/teachers/login`, data),\n  loginAdmin: data => axios.post(`${API_URL}/admin/login`, data),\n  // Now using dedicated admin endpoint\n\n  // Student course endpoints\n  getAllCourses: () => axios.get(`${API_URL}/courses`),\n  enrollInCourse: data => axios.post(`${API_URL}/students/enroll`, data),\n  getEnrolledCourses: studentId => axios.get(`${API_URL}/students/${studentId}/courses`),\n  // Student grade endpoints\n  getStudentGrades: studentId => axios.get(`${API_URL}/students/${studentId}/grades`),\n  calculateGPA: studentId => axios.get(`${API_URL}/students/${studentId}/gpa`),\n  // Teacher course endpoints\n  createCourse: data => axios.post(`${API_URL}/courses`, data),\n  getCoursesByTeacher: teacherId => axios.get(`${API_URL}/courses/teacher/${teacherId}`),\n  getStudentsByCourse: courseId => axios.get(`${API_URL}/courses/${courseId}/students`),\n  updateGrade: (courseId, studentId, grade) => axios.put(`${API_URL}/courses/${courseId}/students/${studentId}/grade`, {\n    grade\n  }),\n  // COE (Admin) endpoints\n  getPendingVerifications: () => axios.get(`${API_URL}/admin/pending-verifications`),\n  // Updated to use admin route\n  verifyGrade: submissionId => axios.put(`${API_URL}/coe/verify/${submissionId}`),\n  getGradeHistory: courseId => axios.get(`${API_URL}/admin/grades/${courseId}/history`),\n  getVerifiedGrades: () => axios.get(`${API_URL}/admin/grades/verified`),\n  getUnverifiedGrades: () => axios.get(`${API_URL}/admin/grades/unverified`),\n  // Admin management endpoints\n  getAllAdmins: () => axios.get(`${API_URL}/admin`),\n  updateAdmin: (adminId, data) => axios.put(`${API_URL}/admin/${adminId}`, data),\n  deleteAdmin: adminId => axios.delete(`${API_URL}/admin/${adminId}`),\n  // Error handling interceptor\n  handleError: error => {\n    if (error.response) {\n      console.error('Response error:', error.response.data);\n      throw new Error(error.response.data.message || 'An error occurred');\n    }\n    throw error;\n  }\n};\n\n// Add response interceptor for global error handling\naxios.interceptors.response.use(response => response, error => Promise.reject(api.handleError(error)));\nexport default api;","map":{"version":3,"names":["axios","API_URL","api","registerStudent","data","post","registerTeacher","registerAdmin","loginStudent","loginTeacher","loginAdmin","getAllCourses","get","enrollInCourse","getEnrolledCourses","studentId","getStudentGrades","calculateGPA","createCourse","getCoursesByTeacher","teacherId","getStudentsByCourse","courseId","updateGrade","grade","put","getPendingVerifications","verifyGrade","submissionId","getGradeHistory","getVerifiedGrades","getUnverifiedGrades","getAllAdmins","updateAdmin","adminId","deleteAdmin","delete","handleError","error","response","console","Error","message","interceptors","use","Promise","reject"],"sources":["D:/pes/sem 5/DBMS/dbms proj/E-Learning-Platform-main/E-Learning-Platform-main/elearning-platform/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst API_URL = 'http://localhost:3001/api';\r\n\r\nconst api = {\r\n  // Auth endpoints\r\n  registerStudent: (data) => axios.post(`${API_URL}/students/register`, data),\r\n  registerTeacher: (data) => axios.post(`${API_URL}/teachers/register`, data),\r\n  registerAdmin: (data) => axios.post(`${API_URL}/admin/register`, data), // Now using dedicated admin endpoint\r\n  loginStudent: (data) => axios.post(`${API_URL}/students/login`, data),\r\n  loginTeacher: (data) => axios.post(`${API_URL}/teachers/login`, data),\r\n  loginAdmin: (data) => axios.post(`${API_URL}/admin/login`, data), // Now using dedicated admin endpoint\r\n  \r\n  // Student course endpoints\r\n  getAllCourses: () => axios.get(`${API_URL}/courses`),\r\n  enrollInCourse: (data) => axios.post(`${API_URL}/students/enroll`, data),\r\n  getEnrolledCourses: (studentId) => axios.get(`${API_URL}/students/${studentId}/courses`),\r\n  \r\n  // Student grade endpoints\r\n  getStudentGrades: (studentId) => axios.get(`${API_URL}/students/${studentId}/grades`),\r\n  calculateGPA: (studentId) => axios.get(`${API_URL}/students/${studentId}/gpa`),\r\n  \r\n  // Teacher course endpoints\r\n  createCourse: (data) => axios.post(`${API_URL}/courses`, data),\r\n  getCoursesByTeacher: (teacherId) => axios.get(`${API_URL}/courses/teacher/${teacherId}`),\r\n  getStudentsByCourse: (courseId) => axios.get(`${API_URL}/courses/${courseId}/students`),\r\n  updateGrade: (courseId, studentId, grade) => \r\n    axios.put(`${API_URL}/courses/${courseId}/students/${studentId}/grade`, { grade }),\r\n\r\n  // COE (Admin) endpoints\r\n  getPendingVerifications: () => axios.get(`${API_URL}/admin/pending-verifications`), // Updated to use admin route\r\n  verifyGrade: (submissionId) => axios.put(`${API_URL}/coe/verify/${submissionId}`),\r\n  getGradeHistory: (courseId) => axios.get(`${API_URL}/admin/grades/${courseId}/history`),\r\n  getVerifiedGrades: () => axios.get(`${API_URL}/admin/grades/verified`),\r\n  getUnverifiedGrades: () => axios.get(`${API_URL}/admin/grades/unverified`),\r\n  \r\n  // Admin management endpoints\r\n  getAllAdmins: () => axios.get(`${API_URL}/admin`),\r\n  updateAdmin: (adminId, data) => axios.put(`${API_URL}/admin/${adminId}`, data),\r\n  deleteAdmin: (adminId) => axios.delete(`${API_URL}/admin/${adminId}`),\r\n  \r\n  // Error handling interceptor\r\n  handleError: (error) => {\r\n    if (error.response) {\r\n      console.error('Response error:', error.response.data);\r\n      throw new Error(error.response.data.message || 'An error occurred');\r\n    }\r\n    throw error;\r\n  }\r\n};\r\n\r\n// Add response interceptor for global error handling\r\naxios.interceptors.response.use(\r\n  response => response,\r\n  error => Promise.reject(api.handleError(error))\r\n);\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}